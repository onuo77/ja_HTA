<%@page import="com.sample.hr.dao.EmployeeDao"%>
<%@page import="com.sample.hr.vo.Employee"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%--
	//요청파라미터값 조회
	String departmentName = request.getParameter("name");
	int locationId = Integer.parseInt(request.getParameter("locationId"));
	
	//Department객체를 생성해서 신규 부서정보 저장
	Department department = new Department();
	department.setName(departmentName);
	department.setLocationId(locationId);
	
	//DepartmentDao의 insertDepartment(Department dept)를 실행해서 새 부서정보 추가
	DepartmentDao departmentDao = new DepartmentDao();
	departmentDao.insertDepartment(department);
	
	//브라우저가 다시 요청할 URL을 응답으로 보낸다. (Redirection 응답)
	response.sendRedirect("list.jsp");
--%>

<%
	//요청파라미터값 조회
	String firstName = request.getParameter("firstName");
	String lastName = request.getParameter("lastName");
	String email = request.getParameter("email");
	String phoneNumber = request.getParameter("phoneNumber");
	double salary = Double.parseDouble(request.getParameter("salary")); 
	double commissionPct = Double.parseDouble(request.getParameter("commissionPct"));
	String jobId = request.getParameter("jobId");
	int managerId = Integer.parseInt(request.getParameter("managerId"));
	int departmentId = Integer.parseInt(request.getParameter("departmentId"));
	
	//employee 객체를 생성해서 신규 사원정보 저장
	Employee emp = new Employee();
	emp.setFirstName(firstName);
	emp.setLastName(lastName);
	emp.setEmail(email);
	emp.setPhoneNumber(phoneNumber);
	emp.setJobId(jobId);
	emp.setSalary(salary);
	emp.setCommissionPct(commissionPct);
	emp.setManagerId(managerId);
	emp.setDepartmentId(departmentId);
	
	//EmployeeDao의 insertEmployee(Employee employee)를 실행해서 새 사원정보 추가
	EmployeeDao empDao = new EmployeeDao();
	empDao.insertEmployee(emp);
	
	//브라우저가 다시 요청할 URL을 응답으로 보낸다. (Redirection 응답)
	response.sendRedirect("list.jsp");

%>