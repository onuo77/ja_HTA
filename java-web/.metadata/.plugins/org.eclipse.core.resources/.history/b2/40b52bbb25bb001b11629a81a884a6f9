<%@page import="com.sample.hr.vo.Department"%>
<%@page import="com.sample.hr.dao.DepartmentDao"%>
<%@page import="com.sample.hr.vo.Employee"%>
<%@page import="com.sample.hr.dao.EmployeeDao"%>
<%@page import="com.sample.hr.vo.Job"%>
<%@page import="java.util.List"%>
<%@page import="com.sample.hr.dao.JobDao"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>인사관리 :: 사원관리</title>
</head>
<body>
	<h1>새 사원 등록 페이지</h1>
	<p>사원의 기본정보를 입력하고, 새 사원을 등록하세요</p>
	<%
		JobDao jobDao = new JobDao();
		List<Job> jobs = jobDao.allJobs();
		
		EmployeeDao empDao = new EmployeeDao();
		List<Employee> employees = empDao.getAllEmployees();
		
		DepartmentDao deptDao = new DepartmentDao();
		List<Department> departments = deptDao.getAllDepartments();
	%>
	 <%-- (사원아이디, 사원이름, 이메일, 전화번호, 입사일, 직종아이디, 직종명, 급여, 커미션, 매니저아이디, 매니저이름, 부서아이디, 부서명)--%>
	<h3>새 사원 등록폼</h3>
	<form method="post" action="add.jsp">
		<label>이름(first_name)</label><br/>
		<input type="text" name="firstName"><br/>
		<label>성(last name)</label><br/>
		<input type="text" name="lastName"><br/>
		<label>이메일</label><br/>
		<input type="text" name="email"><br/>
		<label>전화번호</label><br/>
		<input type="text" name="phoneNumber"><br/>
		<label>급여</label><br/>
		<input type="number" name="salary"><br/>
		<label>커미션</label><br/>
		<input type="radio" name="commissionPct" value="0">없음
		<input type="radio" name="commissionPct" value="0.1">0.1
		<input type="radio" name="commissionPct" value="0.15">0.15
		<input type="radio" name="commissionPct" value="0.2">0.2
		<input type="radio" name="commissionPct" value="0.25">0.25
		<input type="radio" name="commissionPct" value="0.3">0.3
		<input type="radio" name="commissionPct" value="0.35">0.35
		<input type="radio" name="commissionPct" value="0.4">0.4<br/>
		<label>직종선택</label><br/>
		<select name="jobId">
			<option>-- 선택하세요 --</option>
			<%
				for(Job job : jobs){
			%>
				<option><%= job.getTitle()%> (<%=job.getId() %>)</option>
			<%
				}
			%>
		</select><br/>
		<label>매니저선택</label><br/>
		<select name="managerId">
			<option>-- 선택하세요 --</option>
			<option value="null">없음</option>
			<%
				for(Employee emp : employees){
			%>
				<option><%= emp.getFirstName()%> <%= emp.getLastName()%> (<%=emp.getId() %>)</option>			
			<%
				}
			%>
		</select><br/>
		<label>부서선택</label><br/>
		<select name="departmentId">
			<option value="null">-- 선택하세요 --</option>
			<option>없음</option>
			<%
				for(Department dept : departments){
			%>
				<option><%= dept.getName()%> (<%=dept.getId() %>)</option>
			<%
				}
			%>			
		</select><br/>
		
		
		<button type="submit">사원 등록</button>
	</form>
	
</body>
</html>